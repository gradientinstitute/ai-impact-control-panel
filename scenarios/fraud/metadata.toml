name = "EzyFraud Pro" 
purpose = "to detect and prevent credit card fraud."
operation = """the system analyses credit card transactions coming into the
bank, blocking those which it predicts to be fraudulent.  An SMS is then sent
to the customer, giving them an opportiunity to confirm the legitimacy of the
transaction."""

data = """The system is trained with historical transaction data collected by
the bank in the last financial year. Positive labels are assumed for undisputed
transactions, negative labels come from fraud investigations"""

decision_rules = """Designers set a threshold for the probability of fraud
before the system is deployed. All transactions whose predictions meet or
exceed the threshold are blocked."""

candidates = """Candidate models have been generated by probability threshold
sweeps."""

primary_metric = "revenue"  # This has to refer to a metric

[actions]
allow = "allows the transaction to proceed"
block = """prevents the transaction from occuring, and sends an sms to the
customer asking them to confirm the legitimacy of the transaction. If they
confirm, then the system will whitelist the transaction so they can re-attempt
it."""
  
[targets] 
fraudulent = """The transaction is fraudulent, i.e. not being conducted with
the informed consent of the customer"""
  
[objectives.catch_fraud]
name = "Catch Fraudulent Transactions"
description = """Prevent as many fraudulent transactions as possible for the
sake of the bank and the customers"""

[objectives.avoid_interference]
name = "Avoid Customer Interference"
description = """Minimise the number of legitimate transactions blocked to
prevent annoying customers"""

[objectives.minimise_excess_interference]
name = "Minimise Excess Customer Interference"
description = """Prevent any customers from experiencing exessive false
blockings"""

[objectives.dont_disadvantage_women]
name = "Don't Disadvantage Women"
description = "Ensure system doesnt make disproportionate errors on women"

[metrics.fn]
    name = "Undetected fraud (FN)"
    icon = "FN.png"
    captures = ["catch_fraud"]
    limitations = """does not measure the concentration of undetected
    fraudulent transactions on particular people"""
    description = "fraudulent transaction{s} per month"
    more = "additional"
    less = "fewer"
    prefix = ""
    suffix = "trans / month"
    action = "overlook{s}"
    displayDecimals = 0

[metrics.fp]
    name = "Falsly flagged fraud (FP)"
    captures = ["avoid_interference"]
    limitations = """does not measure the concentration of falsely flagged
    transactions on particular people"""
    icon = "FP.png"
    description = "legitimate transaction{s} per month"
    more = "additional"
    less = "fewer"
    prefix = ""
    suffix = "trans / month"
    action = "falsely flag{s}"
    displayDecimals = 0

[metrics.fp_cvar]
    name = "Concentration of falsely flagged fraud (FP CVaR)"
    captures = ["minimise_excess_interference"]
    limitations = """does not capture the number or rate of falsely flagged
    transactions"""
    icon = "FPWO.png"
    description = """number of false flags per month on customers most likely
    to be flagged"""
    more = "extra"
    less = "fewer"
    prefix = ""
    suffix = "trans / month"
    action = "burden{s} the worst-off individuals with"
    countable = "number"
    displayDecimals = 1

[metrics.revenue]
    name = "Net revenue protected"
    icon = "profit.png"
    captures = ["catch_fraud", "avoid_interference"]
    limitations = """fails to capture harms and benefits not easily
    quantifiable in $"""
    description = "net revenue protected from fraudulent transactions"
    more = "more"
    less = "less"
    prefix = "$"
    suffix = ""
    action = "make{s}"
    lowerIsBetter = false
    displayDecimals = 2

[metrics.eo_disadvantage_rate]
    name = "Inequality of Fraud Prevention"
    icon = "fairness.png"
    description = """difference in proportion of correctly identified
    fraudulent transactions between men and women"""
    captures = ["catch_fraud", "dont_disadvantage_women"]
    limitations = """does not consider if men are being disadvantaged"""
    more = "more"
    less = "fewer"
    prefix = ""
    suffix = "proportionally worse at flagging fraud for women"
    action = "is"
    displayDecimals = 2
